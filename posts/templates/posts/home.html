{% extends "posts/base.html" %}
{% block content %}
<h2 class="mb-4">Latest Posts</h2>

<div class="posts-grid">
  {% for post in posts %}
    <div class="card-clean">
      {% if post.image %}
        <a href="{% url 'post_detail' post.id %}">
          <img src="{{ post.image.url }}" alt="{{ post.title }}" class="thumb-img">
        </a>
      {% endif %}
      <div class="p-3">
        <h5 class="mb-1">
          <a href="{% url 'post_detail' post.id %}">{{ post.title }}</a>
        </h5>
        <p class="text-muted small mb-2">Published at: {{ post.published_at }}</p>
        <p class="mb-3">{{ post.content|truncatechars:120 }}</p>
        <a href="{% url 'edit_post' post.id %}" class="btn btn-sm btn-warning">Edit</a>
        <a href="{% url 'delete_post' post.id %}" class="btn btn-sm btn-danger">Delete</a>
      </div>
    </div>
  {% empty %}
    <p>No posts yet.</p>
  {% endfor %}
</div>
{% endblock %}
